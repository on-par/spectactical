# Implementation Plan: {{topic}}
*Generated: {{timestamp}} | Phase: Planning | Session: {{sessionId}}*
*Based on Research: `{{researchFile}}`*

## 📋 Implementation Strategy

### Context Budget Management
- **Context Target**: < 40% utilization throughout implementation
- **Current Budget**: {{currentContext}}% (from research handoff)
- **Monitoring Strategy**: Update at each checkpoint

### Overall Approach
[High-level implementation strategy based on research]

---

## 🚧 Implementation Phases

### Phase 1: Foundation
**Estimated Context: {{phase1Context}}% | Files: {{phase1Files}}**

#### Tasks
- [ ] **Task 1**: `path/to/file.ext:line` - [modification description]
  - **Why**: [reason for this change]
  - **What**: [specific change to make]
  - **Test**: [how to verify this works]
  - **Validation**: [success criteria]
  - **Context Impact**: [estimated context usage]

- [ ] **Task 2**: `path/to/file.ext:line` - [modification description]
  - **Why**: [reason for this change]
  - **What**: [specific change to make]
  - **Test**: [how to verify this works]
  - **Validation**: [success criteria]
  - **Context Impact**: [estimated context usage]

#### Phase 1 Completion Criteria
- [ ] All foundation tasks completed
- [ ] Unit tests passing
- [ ] No breaking changes to existing functionality
- [ ] Context budget maintained under target

---

### Phase 2: Core Implementation
**Estimated Context: {{phase2Context}}% | Files: {{phase2Files}}**

#### Tasks
- [ ] **Task 3**: `path/to/file.ext:line` - [modification description]
  - **Why**: [reason for this change]
  - **What**: [specific change to make]
  - **Test**: [how to verify this works]
  - **Validation**: [success criteria]
  - **Context Impact**: [estimated context usage]
  - **Dependencies**: [depends on Phase 1 Task X]

- [ ] **Task 4**: `path/to/file.ext:line` - [modification description]
  - **Why**: [reason for this change]
  - **What**: [specific change to make]
  - **Test**: [how to verify this works]
  - **Validation**: [success criteria]
  - **Context Impact**: [estimated context usage]

#### Phase 2 Completion Criteria
- [ ] Core functionality implemented
- [ ] Integration tests passing
- [ ] Performance requirements met
- [ ] Error handling in place

---

### Phase 3: Integration & Validation
**Estimated Context: {{phase3Context}}% | Files: {{phase3Files}}**

#### Tasks
- [ ] **Task 5**: `path/to/file.ext` - [integration task]
  - **Why**: [reason for this change]
  - **What**: [specific integration to complete]
  - **Test**: [end-to-end testing approach]
  - **Validation**: [success criteria]

- [ ] **Task 6**: Load testing and performance validation
  - **Why**: Ensure performance requirements met
  - **What**: Run comprehensive load tests
  - **Test**: [specific load testing approach]
  - **Validation**: [performance criteria from research]

#### Phase 3 Completion Criteria
- [ ] All research success criteria met
- [ ] End-to-end tests passing
- [ ] Performance validated under load
- [ ] Documentation updated

---

## 🔄 Context Management Strategy

### Context Handoffs
- **After Phase 1**: Compact progress, start fresh context for Phase 2
- **After Phase 2**: Compact integration results, fresh context for Phase 3
- **After Phase 3**: Final validation and completion documentation

### Compaction Points
- **Automatic**: When approaching 40% context utilization
- **Manual**: Between phases for optimal fresh start
- **Emergency**: If context becomes polluted or unfocused

### Information Preservation
What to carry forward in compacted context:
- [ ] Current implementation status
- [ ] Any deviations from plan
- [ ] Performance metrics
- [ ] Test results
- [ ] Outstanding issues or blockers

---

## ⚠️ Risk Management

### Technical Risks
- **Risk 1**: [potential technical issue]
  - **Likelihood**: High/Medium/Low
  - **Impact**: High/Medium/Low  
  - **Mitigation**: [how to prevent/handle]

- **Risk 2**: [potential technical issue]
  - **Likelihood**: High/Medium/Low
  - **Impact**: High/Medium/Low
  - **Mitigation**: [how to prevent/handle]

### Mitigation Strategies
- **Backup Plan**: [how to revert if needed]
- **Feature Flags**: [gradual rollout strategy]
- **Monitoring**: [what to watch during deployment]
- **Rollback Process**: [step-by-step rollback procedure]

---

## 📊 Plan Quality Checklist
**Validation criteria for this plan:**

- [ ] All research requirements addressed
- [ ] Tasks are atomic (completable by single command)
- [ ] Each task has clear validation criteria
- [ ] Context budget stays under 40% throughout
- [ ] Dependencies between tasks clearly identified
- [ ] Testing strategy included for every change
- [ ] Risk mitigation strategies defined
- [ ] Rollback procedures documented

---

## 🎯 Success Mapping
**Traceability from research to implementation:**

| Research Requirement | Implementation Tasks | Validation Method |
|---------------------|---------------------|-------------------|
| [Requirement 1] | [Task X, Task Y] | [How we'll verify] |
| [Requirement 2] | [Task Z] | [How we'll verify] |
| [Requirement 3] | [Task A, Task B] | [How we'll verify] |

---
**Plan Status**: Draft | Under Review | Validated | Complete
**Context Utilization**: [X]%
**Previous Phase**: Research → `{{researchFile}}`
**Next Phase**: Implementation
**Validation Notes**: [Add reviewer feedback here]